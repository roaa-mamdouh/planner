import{r as c,O as V,f as l,d as m,u as e,y as k,e as r,B as g,w as _,p,F as L,g as B,b,o,U as u,V as w,m as x,t as C}from"./index-scHx8GJe.js";const E={class:"flex h-screen w-screen justify-center bg-gray-100"},N={class:"mt-32 w-full px-4"},S={class:"mx-auto mt-6 w-full px-4 sm:w-96"},M={class:"mt-4"},P={key:1,class:"mx-auto space-y-2"},U=["href"],F={__name:"Login",setup(j){let s=c(!1),n=c(""),i=c(""),d=V({url:"planner.api.oauth_providers",auto:!0,onSuccess(f){s.value=f.length===0}});d.fetch();function y(){u.login.submit({email:n.value,password:i.value})}return(f,t)=>{const h=b("ErrorMessage"),v=b("Button");return o(),l("div",E,[m("div",N,[m("div",S,[e(s)?(o(),l("form",{key:0,method:"POST",action:"/api/method/login",onSubmit:k(y,["prevent"])},[m("div",null,[r(e(w),{variant:"outline",size:"md",type:"text",label:"Email",modelValue:e(n),"onUpdate:modelValue":t[0]||(t[0]=a=>g(n)?n.value=a:n=a),placeholder:"jane@example.com",disabled:e(u).login.loading},null,8,["modelValue","disabled"])]),m("div",M,[r(e(w),{variant:"outline",size:"md",label:"Password",modelValue:e(i),"onUpdate:modelValue":t[1]||(t[1]=a=>g(i)?i.value=a:i=a),placeholder:"••••••",disabled:e(u).login.loading,type:"password"},null,8,["modelValue","disabled"])]),r(h,{class:"mt-2",message:e(u).login.error},null,8,["message"]),r(v,{variant:"solid",class:"mt-6 w-full",loading:e(u).login.loading},{default:_(()=>t[4]||(t[4]=[x(" Login ")])),_:1,__:[4]},8,["loading"]),e(d).data.length?(o(),l("button",{key:0,class:"mt-2 w-full py-2 text-base text-gray-600",onClick:t[2]||(t[2]=a=>g(s)?s.value=!1:s=!1)}," Login using other methods ")):p("",!0)],32)):p("",!0),e(d).data&&!e(s)?(o(),l("div",P,[r(v,{onClick:t[3]||(t[3]=a=>g(s)?s.value=!0:s=!0),variant:"solid",class:"w-full"},{default:_(()=>t[5]||(t[5]=[x(" Login via email ")])),_:1,__:[5]}),(o(!0),l(L,null,B(e(d).data,a=>(o(),l("a",{class:"block w-full rounded border bg-gray-900 px-3 py-1 text-center text-base h-7 focus:outline-none focus:ring-2 focus:ring-gray-400 text-white transition-colors hover:bg-gray-700",key:a.name,href:a.auth_url}," Login via "+C(a.provider_name),9,U))),128))])):p("",!0)])])])}}};export{F as default};
