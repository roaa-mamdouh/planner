import{r as g,Q as V,f as l,d as m,u as e,A as k,e as r,D as c,w as _,p,F as L,g as B,b as h,o,X as u,Y as b,m as w,t as C}from"./index-n7IU6Utn.js";const E={class:"flex h-screen w-screen justify-center bg-gray-100"},N={class:"mt-32 w-full px-4"},S={class:"mx-auto mt-6 w-full px-4 sm:w-96"},M={class:"mt-4"},P={key:1,class:"mx-auto space-y-2"},j=["href"],F={__name:"Login",setup(z){let t=g(!1),n=g(""),i=g(""),d=V({url:"planner.api.oauth_providers",auto:!0,onSuccess(f){t.value=f.length===0}});d.fetch();function x(){u.login.submit({email:n.value,password:i.value})}return(f,s)=>{const y=h("ErrorMessage"),v=h("Button");return o(),l("div",E,[m("div",N,[m("div",S,[e(t)?(o(),l("form",{key:0,method:"POST",action:"/api/method/login",onSubmit:k(x,["prevent"])},[m("div",null,[r(e(b),{variant:"outline",size:"md",type:"text",label:"Email",modelValue:e(n),"onUpdate:modelValue":s[0]||(s[0]=a=>c(n)?n.value=a:n=a),placeholder:"jane@example.com",disabled:e(u).login.loading},null,8,["modelValue","disabled"])]),m("div",M,[r(e(b),{variant:"outline",size:"md",label:"Password",modelValue:e(i),"onUpdate:modelValue":s[1]||(s[1]=a=>c(i)?i.value=a:i=a),placeholder:"••••••",disabled:e(u).login.loading,type:"password"},null,8,["modelValue","disabled"])]),r(y,{class:"mt-2",message:e(u).login.error},null,8,["message"]),r(v,{variant:"solid",class:"mt-6 w-full",loading:e(u).login.loading},{default:_(()=>[w(" Login ")]),_:1},8,["loading"]),e(d).data.length?(o(),l("button",{key:0,class:"mt-2 w-full py-2 text-base text-gray-600",onClick:s[2]||(s[2]=a=>c(t)?t.value=!1:t=!1)}," Login using other methods ")):p("",!0)],32)):p("",!0),e(d).data&&!e(t)?(o(),l("div",P,[r(v,{onClick:s[3]||(s[3]=a=>c(t)?t.value=!0:t=!0),variant:"solid",class:"w-full"},{default:_(()=>[w(" Login via email ")]),_:1}),(o(!0),l(L,null,B(e(d).data,a=>(o(),l("a",{class:"block w-full rounded border bg-gray-900 px-3 py-1 text-center text-base h-7 focus:outline-none focus:ring-2 focus:ring-gray-400 text-white transition-colors hover:bg-gray-700",key:a.name,href:a.auth_url}," Login via "+C(a.provider_name),9,j))),128))])):p("",!0)])])])}}};export{F as default};
