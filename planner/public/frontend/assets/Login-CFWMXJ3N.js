import{r as c,V,f as l,d as m,u as e,B as k,e as r,I as g,w as _,s as f,F as L,g as B,b,o,a0 as u,a1 as w,y as x,t as C}from"./index-D42yJYo7.js";const E={class:"flex h-screen w-screen justify-center bg-gray-100"},N={class:"mt-32 w-full px-4"},S={class:"mx-auto mt-6 w-full px-4 sm:w-96"},M={class:"mt-4"},P={key:1,class:"mx-auto space-y-2"},j=["href"],R={__name:"Login",setup(z){let s=c(!1),n=c(""),i=c(""),d=V({url:"planner.api.oauth_providers",auto:!0,onSuccess(p){s.value=p.length===0}});d.fetch();function y(){u.login.submit({email:n.value,password:i.value})}return(p,a)=>{const h=b("ErrorMessage"),v=b("Button");return o(),l("div",E,[m("div",N,[m("div",S,[e(s)?(o(),l("form",{key:0,method:"POST",action:"/api/method/login",onSubmit:k(y,["prevent"])},[m("div",null,[r(e(w),{variant:"outline",size:"md",type:"text",label:"Email",modelValue:e(n),"onUpdate:modelValue":a[0]||(a[0]=t=>g(n)?n.value=t:n=t),placeholder:"jane@example.com",disabled:e(u).login.loading},null,8,["modelValue","disabled"])]),m("div",M,[r(e(w),{variant:"outline",size:"md",label:"Password",modelValue:e(i),"onUpdate:modelValue":a[1]||(a[1]=t=>g(i)?i.value=t:i=t),placeholder:"••••••",disabled:e(u).login.loading,type:"password"},null,8,["modelValue","disabled"])]),r(h,{class:"mt-2",message:e(u).login.error},null,8,["message"]),r(v,{variant:"solid",class:"mt-6 w-full",loading:e(u).login.loading},{default:_(()=>a[4]||(a[4]=[x(" Login ")])),_:1,__:[4]},8,["loading"]),e(d).data.length?(o(),l("button",{key:0,class:"mt-2 w-full py-2 text-base text-gray-600",onClick:a[2]||(a[2]=t=>g(s)?s.value=!1:s=!1)}," Login using other methods ")):f("",!0)],32)):f("",!0),e(d).data&&!e(s)?(o(),l("div",P,[r(v,{onClick:a[3]||(a[3]=t=>g(s)?s.value=!0:s=!0),variant:"solid",class:"w-full"},{default:_(()=>a[5]||(a[5]=[x(" Login via email ")])),_:1,__:[5]}),(o(!0),l(L,null,B(e(d).data,t=>(o(),l("a",{class:"block w-full rounded border bg-gray-900 px-3 py-1 text-center text-base h-7 focus:outline-none focus:ring-2 focus:ring-gray-400 text-white transition-colors hover:bg-gray-700",key:t.name,href:t.auth_url}," Login via "+C(t.provider_name),9,j))),128))])):f("",!0)])])])}}};export{R as default};
