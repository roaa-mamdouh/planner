import{_ as H,r as f,j as C,o as a,f as o,d as r,e as l,u as d,v as i,t as n,w as D,z as j,C as x,E as q,W as L,F as h,g as v,q as T,s as k,y as z}from"./index-D42yJYo7.js";const U={class:"backlog-panel bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 flex flex-col h-full"},E={class:"p-6 border-b border-gray-200 dark:border-gray-700"},F={class:"flex items-center justify-between mb-4"},O={class:"flex items-center gap-3"},J={class:"w-10 h-10 bg-gradient-to-br from-orange-500 to-red-500 rounded-lg flex items-center justify-center"},Q={class:"text-sm text-gray-500 dark:text-gray-400"},W={class:"space-y-3"},Y={class:"relative"},G={class:"flex gap-2"},I=["value"],K={class:"flex-1 overflow-y-auto p-4"},R={key:0,class:"space-y-3"},X={key:1,class:"text-center py-12"},Z={class:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4"},ee={key:2,class:"space-y-3"},te=["onDragstart","onClick"],re={class:"flex items-start justify-between mb-3"},se={class:"flex-1 min-w-0"},ae={class:"font-semibold text-gray-900 dark:text-white text-sm truncate group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors"},oe={key:0,class:"text-xs text-gray-500 dark:text-gray-400 mt-1 truncate"},le={class:"flex items-center gap-2 ml-3"},de={class:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400"},ie={class:"flex items-center gap-3"},ne={class:"flex items-center gap-1"},ce={key:0,class:"flex items-center gap-1"},ge={class:"flex items-center gap-1"},ue={key:0,class:"mt-3 pt-3 border-t border-gray-100 dark:border-gray-600"},ye={class:"text-xs text-gray-600 dark:text-gray-400 line-clamp-2"},pe={class:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity"},be={class:"p-4 border-t border-gray-200 dark:border-gray-700"},me={__name:"BacklogPanel",props:{tasks:{type:Array,required:!0},loading:{type:Boolean,default:!1},assignees:{type:Array,default:()=>[]}},emits:["taskDragStart","taskClick","addTask","close"],setup(b,{emit:B}){const m=b,P=B,u=f(""),y=f(""),p=f(""),M=C(()=>{const s=m.tasks.map(e=>e.project).filter(e=>e&&e.trim()!=="");return[...new Set(s)].sort()}),w=C(()=>{let s=m.tasks;if(u.value){const e=u.value.toLowerCase();s=s.filter(t=>t.title.toLowerCase().includes(e)||t.project&&t.project.toLowerCase().includes(e)||t.description&&t.description.toLowerCase().includes(e))}return y.value&&(s=s.filter(e=>e.priority===y.value)),p.value&&(s=s.filter(e=>e.project===p.value)),s.sort((e,t)=>{const c={High:3,Medium:2,Low:1},g=c[e.priority]||0,_=c[t.priority]||0;return g!==_?_-g:new Date(t.created)-new Date(e.created)})}),S=(s,e)=>{s.dataTransfer.setData("application/json",JSON.stringify(e)),s.dataTransfer.effectAllowed="move",P("taskDragStart",s,e)},$=s=>{switch(s){case"High":return"border-l-4 border-l-red-500 hover:border-l-red-600";case"Medium":return"border-l-4 border-l-blue-500 hover:border-l-blue-600";case"Low":return"border-l-4 border-l-green-500 hover:border-l-green-600";default:return"border-l-4 border-l-gray-500 hover:border-l-gray-600"}},A=s=>{switch(s){case"High":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300";case"Medium":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300";case"Low":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300"}},N=s=>{const e=m.assignees.find(t=>t.id===s);return e?e.name:s},V=s=>{if(!s)return"";const e=new Date(s),c=Math.abs(new Date-e),g=Math.ceil(c/(1e3*60*60*24));return g===1?"Today":g===2?"Yesterday":g<=7?`${g} days ago`:e.toLocaleDateString("en-US",{month:"short",day:"numeric"})};return(s,e)=>(a(),o("div",U,[r("div",E,[r("div",F,[r("div",O,[r("div",J,[l(d(i),{name:"inbox",class:"w-5 h-5 text-white"})]),r("div",null,[e[5]||(e[5]=r("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Backlog",-1)),r("p",Q,n(b.tasks.length)+" unscheduled tasks",1)])]),l(d(j),{variant:"ghost",theme:"gray",size:"sm",onClick:e[0]||(e[0]=t=>s.$emit("close"))},{default:D(()=>[l(d(i),{name:"x",class:"w-4 h-4"})]),_:1})]),r("div",W,[r("div",Y,[l(d(i),{name:"search",class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),x(r("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>u.value=t),type:"text",placeholder:"Search tasks...",class:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[q,u.value]])]),r("div",G,[x(r("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>y.value=t),class:"flex-1 px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500"},e[6]||(e[6]=[r("option",{value:""},"All Priorities",-1),r("option",{value:"High"},"High",-1),r("option",{value:"Medium"},"Medium",-1),r("option",{value:"Low"},"Low",-1)]),512),[[L,y.value]]),x(r("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>p.value=t),class:"flex-1 px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500"},[e[7]||(e[7]=r("option",{value:""},"All Projects",-1)),(a(!0),o(h,null,v(M.value,t=>(a(),o("option",{key:t,value:t},n(t),9,I))),128))],512),[[L,p.value]])])])]),r("div",K,[b.loading?(a(),o("div",R,[(a(),o(h,null,v(5,t=>r("div",{key:t,class:"animate-pulse"},e[8]||(e[8]=[r("div",{class:"h-20 bg-gray-200 dark:bg-gray-700 rounded-lg"},null,-1)]))),64))])):w.value.length===0?(a(),o("div",X,[r("div",Z,[l(d(i),{name:"check-circle",class:"w-8 h-8 text-gray-400 dark:text-gray-500"})]),e[9]||(e[9]=r("h4",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"},"All caught up!",-1)),e[10]||(e[10]=r("p",{class:"text-gray-500 dark:text-gray-400"},"No unscheduled tasks found.",-1))])):(a(),o("div",ee,[(a(!0),o(h,null,v(w.value,t=>(a(),o("div",{key:t.id,class:T(["task-card group cursor-move bg-gradient-to-r from-white to-gray-50 dark:from-gray-700 dark:to-gray-800 rounded-lg border border-gray-200 dark:border-gray-600 p-4 hover:shadow-md transition-all duration-200 hover:scale-[1.02]",$(t.priority)]),draggable:"true",onDragstart:c=>S(c,t),onClick:c=>s.$emit("taskClick",t.id)},[r("div",re,[r("div",se,[r("h4",ae,n(t.title),1),t.project?(a(),o("p",oe,n(t.project),1)):k("",!0)]),r("div",le,[r("span",{class:T(["px-2 py-1 text-xs font-medium rounded-full",A(t.priority)])},n(t.priority),3)])]),r("div",de,[r("div",ie,[r("div",ne,[l(d(i),{name:"clock",class:"w-3 h-3"}),r("span",null,n(t.duration)+"h",1)]),t.assignee&&t.assignee!=="unassigned"?(a(),o("div",ce,[l(d(i),{name:"user",class:"w-3 h-3"}),r("span",null,n(N(t.assignee)),1)])):k("",!0)]),r("div",ge,[l(d(i),{name:"calendar",class:"w-3 h-3"}),r("span",null,n(V(t.created)),1)])]),t.description?(a(),o("div",ue,[r("p",ye,n(t.description),1)])):k("",!0),r("div",pe,[l(d(i),{name:"move",class:"w-4 h-4 text-gray-400"})])],42,te))),128))]))]),r("div",be,[l(d(j),{variant:"solid",theme:"blue",size:"sm",class:"w-full",onClick:e[4]||(e[4]=t=>s.$emit("addTask"))},{default:D(()=>[l(d(i),{name:"plus",class:"w-4 h-4 mr-2"}),e[11]||(e[11]=z(" Add New Task "))]),_:1,__:[11]})])]))}},xe=H(me,[["__scopeId","data-v-911e3b72"]]);export{xe as B};
